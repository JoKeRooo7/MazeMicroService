Filename: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   320     91.3 MiB     91.3 MiB           1       @wraps(func)
   321                                             def helper(*args, **kwds):
   322     91.3 MiB      0.0 MiB           1           return _AsyncGeneratorContextManager(func, args, kwds)


Filename: /Users/lynseypi/MazeMicroservice/app/services/generating_maze.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    25     91.4 MiB     91.4 MiB           1       @profile
    26                                             def create_maze(self, maze_data:MazeDataWithSolution=None) -> MazeDataWithSolution:
    27     91.4 MiB      0.0 MiB           1           self.maze_data = maze_data
    28                                         
    29     91.4 MiB      0.0 MiB           1           array_with_sets = self.__creating_an_array_with_sets()
    30     91.4 MiB      0.0 MiB           1           rows, cols = array_with_sets.shape
    31                                         
    32     91.5 MiB      0.0 MiB          36           for i in range(rows):
    33     91.5 MiB      0.0 MiB          35               self.__creating_right_walls(i=i, array_with_sets=array_with_sets, cols=cols)
    34     91.5 MiB      0.0 MiB          35               self.__creating_lower_walls(i=i, array_with_sets=array_with_sets, cols=cols, rows=rows)
    35     91.5 MiB      0.0 MiB           1           return self.maze_data


Filename: /Users/lynseypi/MazeMicroservice/app/services/solution_maze.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    21     91.5 MiB     91.5 MiB           1       @profile
    22                                             def finding_way(self, maze_data=None):
    23     91.5 MiB      0.0 MiB           1           self.maze_data = maze_data
    24     91.5 MiB      0.0 MiB           1           start = self.maze_data.start_point
    25     91.5 MiB      0.0 MiB           1           end = self.maze_data.end_point
    26     91.5 MiB      0.0 MiB           1           rows, cols = self.maze_data.right_walls.shape
    27     91.5 MiB      0.0 MiB           1           way = deque([(start, [start])])
    28     91.5 MiB      0.0 MiB           1           visited = set()
    29     91.7 MiB      0.0 MiB         904           while way:
    30     91.7 MiB      0.0 MiB         904               (i, j), path = way.popleft()
    31     91.7 MiB      0.0 MiB         904               if (i, j) == end:
    32     91.7 MiB      0.0 MiB           1                   self.maze_data.solution_coordinates = path
    33     91.7 MiB      0.0 MiB           1                   return self.maze_data
    34                                         
    35     91.7 MiB      0.0 MiB         903               visited.add((i, j))
    36     91.7 MiB      0.0 MiB         903               directions = []
    37                                         
    38     91.7 MiB      0.0 MiB         903               if j + 1 < cols and self.maze_data.right_walls[i, j] == 0:
    39     91.7 MiB      0.0 MiB         356                   directions.append((i, j + 1))
    40                                                     
    41     91.7 MiB      0.0 MiB         903               if i + 1 < rows and self.maze_data.lower_walls[i, j] == 0:
    42     91.7 MiB      0.0 MiB         560                   directions.append((i + 1, j))
    43                                         
    44     91.7 MiB      0.0 MiB         903               if j - 1 >= 0 and self.maze_data.right_walls[i, j - 1] == 0:
    45     91.7 MiB      0.0 MiB         356                   directions.append((i, j - 1))
    46                                         
    47     91.7 MiB      0.0 MiB         903               if i - 1 >= 0 and self.maze_data.lower_walls[i - 1, j] == 0:
    48     91.7 MiB      0.0 MiB         559                   directions.append((i - 1, j))
    49                                         
    50     91.7 MiB      0.0 MiB        2734               for new_i, new_j in directions:
    51     91.7 MiB      0.0 MiB        1831                   if (new_i, new_j) not in visited:
    52     91.7 MiB      0.2 MiB         929                       way.append(((new_i, new_j), path + [(new_i, new_j)]))
    53                                         
    54                                                 self.maze_data.solution_coordinates = None
    55                                                 return self.maze_data


Filename: main.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    22     91.3 MiB     91.3 MiB           1   @profile
    23                                         async def new_maze():
    24     91.3 MiB      0.0 MiB           1       maze = MazeDataWithSolution()
    25     91.3 MiB      0.0 MiB           1       maze.rows = app_settings.MAZE_ROWS
    26     91.3 MiB      0.0 MiB           1       maze.cols = app_settings.MAZE_COLS
    27     91.4 MiB      0.0 MiB           1       maze.start_point = (
    28     91.4 MiB      0.0 MiB           1           np.random.randint(0, maze.rows), 
    29     91.4 MiB      0.0 MiB           1           np.random.randint(0, maze.cols))
    30     91.4 MiB      0.0 MiB           1       maze.end_point = (
    31     91.4 MiB      0.0 MiB           1           np.random.randint(0, maze.rows), 
    32     91.4 MiB      0.0 MiB           1           np.random.randint(0, maze.cols))
    33     91.4 MiB      0.0 MiB           1       while maze.start_point == maze.end_point:
    34                                                 maze.end_point = (
    35                                                     np.random.randint(0, maze.rows), 
    36                                                     np.random.randint(0, maze.cols)
    37                                                 )
    38     91.5 MiB      0.1 MiB           1       maze = generate_maze_service.create_maze(maze)
    39     91.7 MiB      0.2 MiB           1       maze = solution_maze_service.finding_way(maze)
    40     91.7 MiB      0.0 MiB           1       maze.step = len(maze.solution_coordinates) 
    41     91.7 MiB      0.0 MiB           1       return maze


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.4 MiB     92.4 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.4 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.4 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.4 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.4 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.4 MiB      0.0 MiB           2           draw.line(
   113     92.4 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.4 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.4 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.4 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.4 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.4 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.4 MiB     92.4 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.5 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.5 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.5 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.5 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.5 MiB      0.0 MiB           2           draw.line(
   113     92.5 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.5 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.5 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.5 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.1 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.6 MiB     92.6 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.6 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.6 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.6 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.6 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.6 MiB      0.0 MiB           2           draw.line(
   113     92.6 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.6 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.6 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.6 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.6 MiB     92.6 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.6 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.6 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.6 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.6 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.6 MiB      0.0 MiB           2           draw.line(
   113     92.6 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.6 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.6 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.6 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.6 MiB     92.6 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.6 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.6 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.6 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.6 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.6 MiB      0.0 MiB           2           draw.line(
   113     92.6 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.6 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.6 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.6 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.6 MiB     92.6 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.6 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.6 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.6 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.6 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.6 MiB      0.0 MiB           2           draw.line(
   113     92.6 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.6 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.6 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.6 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.6 MiB     92.6 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.6 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.6 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.6 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.6 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.6 MiB      0.0 MiB           2           draw.line(
   113     92.6 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.6 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.6 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.6 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.6 MiB     92.6 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.6 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.6 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.6 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.6 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.6 MiB      0.0 MiB           2           draw.line(
   113     92.6 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.6 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.6 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.6 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.6 MiB     92.6 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.6 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.6 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.6 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.6 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.6 MiB      0.0 MiB           2           draw.line(
   113     92.6 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.6 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.6 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.6 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.6 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.6 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.7 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.7 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.7 MiB     92.7 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.7 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.7 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.7 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.7 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.7 MiB      0.0 MiB           2           draw.line(
   113     92.7 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.7 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.7 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.7 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.8 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.8 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.8 MiB     92.8 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.8 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.8 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.8 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.8 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.8 MiB      0.0 MiB           2           draw.line(
   113     92.8 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.8 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.8 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.8 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.1 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     92.9 MiB     92.9 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     92.9 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     92.9 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     92.9 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     92.9 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     92.9 MiB      0.0 MiB           2           draw.line(
   113     92.9 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     92.9 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     92.9 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     92.9 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     92.9 MiB      0.0 MiB           1           image.save(self.last_image)
   121     92.9 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   101     93.0 MiB     93.0 MiB           1       @profile
   102                                             async def _draw_path_frame(self, path_segment, count):
   103                                                 """
   104                                                     Добавляет текущий путь на базовый фон и сохраняет кадр.
   105                                                 """
   106     93.0 MiB      0.0 MiB           1           image = Image.open(self.last_image).convert("RGBA")
   107     93.0 MiB      0.0 MiB           1           draw = ImageDraw.Draw(image)
   108                                         
   109     93.0 MiB      0.0 MiB           1           y1, x1 = path_segment[0]
   110     93.0 MiB      0.0 MiB           1           y2, x2 = path_segment[1]
   111                                         
   112     93.0 MiB      0.0 MiB           2           draw.line(
   113     93.0 MiB      0.0 MiB           2               [(x1 * app_settings.MAZE_COLS + self._shift, y1 * app_settings.MAZE_ROWS + self._shift),
   114     93.0 MiB      0.0 MiB           1                (x2 * app_settings.MAZE_COLS + self._shift, y2 * app_settings.MAZE_ROWS + self._shift)],
   115     93.0 MiB      0.0 MiB           1               fill=app_settings.WAY_COLOR
   116                                                     # width=app_settings.PATH_THICKNESS
   117                                                 )
   118                                         
   119     93.0 MiB      0.0 MiB           1           self.last_image = f"{app_settings.GIF_DIRECTORY}/{count}.png"
   120     93.0 MiB      0.0 MiB           1           image.save(self.last_image)
   121     93.0 MiB      0.0 MiB           1           return self.last_image


Filename: /Users/lynseypi/MazeMicroservice/app/services/create_gif.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   123     91.7 MiB     91.7 MiB           1       @profile
   124                                             async def create_gif(self, maze_data: MazeDataWithSolution = None):
   125                                                 """
   126                                                     Создаёт GIF с пошаговым прохождением пути.
   127                                                 """
   128     91.7 MiB      0.0 MiB           1           self.maze_data = maze_data
   129     92.4 MiB      0.7 MiB           1           await self._draw_base_maze()
   130     92.4 MiB      0.0 MiB           1           path = self.maze_data.solution_coordinates
   131                                         
   132     92.4 MiB      0.0 MiB           1           frames = []
   133     93.0 MiB      0.0 MiB          67           for i in range(1, len(path)):
   134     93.0 MiB      0.5 MiB          66               frame = await self._draw_path_frame([path[i - 1], path[i]], i)
   135     93.0 MiB      0.1 MiB          66               frames.append(Image.open(frame).convert("RGBA"))
   136                                         
   137     95.5 MiB      2.5 MiB           2           frames[0].save(
   138     93.0 MiB      0.0 MiB           1               app_settings.gif_file_path,
   139     93.0 MiB      0.0 MiB           1               save_all=True,
   140     93.0 MiB      0.0 MiB           1               append_images=frames[1:],
   141     93.0 MiB      0.0 MiB           1               duration=int(self.delay * 1000),
   142     93.0 MiB      0.0 MiB           1               loop=0
   143                                                 )


Filename: main.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    43     91.3 MiB     91.3 MiB           1   @profile
    44                                         async def create_new_gif():
    45     91.3 MiB      0.0 MiB           1       try:
    46     91.7 MiB      0.3 MiB           1           maze = await new_maze()
    47                                             except:
    48                                                 raise HTTPException(status_code=500, detail="Error when creating the maze")
    49     91.7 MiB      0.0 MiB           1       total_time = maze.step * app_settings.GIF_DELAY
    50     91.7 MiB      0.0 MiB           1       gif_creation_service.delay = app_settings.GIF_DELAY
    51     91.7 MiB      0.0 MiB           1       try:
    52     95.5 MiB      3.9 MiB           1           await gif_creation_service.create_gif(maze)
    53                                             except:
    54                                                 raise HTTPException(status_code=500, detail="Error when creating the gif")
    55     95.5 MiB      0.0 MiB           1       return total_time


Scheduler state: True
Jobstore default:
    schedule_new_gif (trigger: date[2025-01-11 13:22:08 MSK], next run at: 2025-01-11 13:22:08 MSK)
Filename: main.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    57     91.3 MiB     91.3 MiB           1   @profile
    58                                         async def schedule_new_gif():
    59     95.5 MiB      4.2 MiB           1       total_time = await create_new_gif()
    60     95.5 MiB      0.0 MiB           1       run_time = datetime.now() + timedelta(seconds=total_time * app_settings.GIF_DELAY)
    61     95.5 MiB      0.0 MiB           1       scheduler.add_job(schedule_new_gif, 'date', run_date=run_time)
    62     95.5 MiB      0.0 MiB           1       print("Scheduler state:", scheduler.running)
    63     95.5 MiB      0.0 MiB           1       scheduler.print_jobs()


Filename: main.py

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    65     91.3 MiB     91.3 MiB           1   @profile
    66                                         async def startup_event():
    67     91.3 MiB      0.0 MiB           1       scheduler.start()
    68     95.5 MiB      4.2 MiB           1       await schedule_new_gif()


